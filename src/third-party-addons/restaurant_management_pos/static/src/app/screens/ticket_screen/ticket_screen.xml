<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="point_of_sale.TicketScreenInherit" t-inherit="point_of_sale.TicketScreen" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('orders')]" position="replace">
            <div class="orders overflow-y-auto flex-grow-1">
                <t t-set="_filteredOrderList" t-value="getFilteredOrderList()" />
                <t t-if="_filteredOrderList.length !== 0">
                    <div class="header-row d-flex text-bg-700 fw-bolder" t-att-class="{ 'd-none': ui.isSmall }">
                        <div class="col wide p-2">Date</div>
                        <div class="col wide p-2">Receipt Number</div>
                        <div class="col wide p-2">Order number</div>
                        <div class="col p-2">Customer</div>
                        <div class="col p-2">Table</div>
                        <div class="col wide p-2" t-if="showCardholderName()">Cardholder Name</div>
                        <div class="col p-2">Cashier</div>
                        <div class="col end p-2">Total</div>
                        <div class="col narrow p-2">Status</div>
                        <div class="col very-narrow p-2" name="delete"></div>
                    </div>
                    <t t-if="!ui.isSmall" t-foreach="_filteredOrderList" t-as="order" t-key="order.cid">
                        <div class="order-row" t-att-class="{ 'highlight bg-primary text-white': isHighlighted(order) }"
                            t-on-click="() => this.onClickOrder(order)" t-on-dblclick="() => order.locked ? ()=>{} : this._setOrder(order)" >
                            <div class="col wide p-2 ">
                                <div><t t-esc="getDate(order)"></t></div>
                            </div>
                            <div class="col wide p-2">
                                <div><t t-esc="order.name"></t></div>
                            </div>
                            <div class="col wide p-2">
                                <div><t t-esc="order.trackingNumber"></t></div>
                            </div>
                            <div class="col p-2">
                                <div><t t-esc="getPartner(order)"></t></div>
                            </div>
                            <div class="col p-2">
                                <div><t t-esc="getTable(order)"></t></div>
                            </div>
                            <div t-if="showCardholderName()" class="col p-2">
                                <div><t t-esc="getCardholderName(order)"></t></div>
                            </div>
                            <div class="col p-2">
                                <t t-esc="getCashier(order)"></t>
                            </div>
                            <div class="col end p-2">
                                <div><t t-esc="getTotal(order)"></t></div>
                            </div>
                            <div class="col narrow p-2">
                                <div><t t-esc="getStatus(order)"></t></div>
                            </div>
                            <div t-if="!shouldHideDeleteButton(order)" class="col very-narrow delete-button p-2" name="delete" t-on-click.stop="() => this.onDeleteOrder(order)">
                                <i class="fa fa-trash" aria-hidden="true"/>
                            </div>
                            <div t-else="" class="col very-narrow p-2"></div>
                        </div>
                    </t>
                    <t t-if="ui.isSmall" t-foreach="_filteredOrderList" t-as="order" t-key="order.cid">
                        <div class="mobileOrderList order-row" t-att-class="{ 'highlight bg-primary text-white': isHighlighted(order) }"
                            t-on-click="() => this.onClickOrder(order)" t-on-dblclick="() =>  order.locked ? ()=>{} : this._setOrder(order)" >
                            <div class="col p-2 d-flex justify-content-between align-items-center">
                                <div><t t-esc="order.name"></t> / <t t-esc="order.trackingNumber"></t></div>
                                <div><t t-esc="getTotal(order)"></t></div>
                            </div>
                            <div class="col p-2 d-flex justify-content-between align-items-center">
                                <div><t t-esc="getDate(order)"></t></div>
                                <div class="orderStatus"><t t-esc="getStatus(order)"></t></div>
                            </div>
                            <div class="col p-2">
                                <div t-if="!shouldHideDeleteButton(order)" class="col very-narrow delete-button p-2 rounded-2" name="delete" t-on-click.stop="() => this.onDeleteOrder(order)">
                                    <i class="fa fa-trash" aria-hidden="true"/> Delete
                                </div>
                            </div>
                        </div>
                    </t>
                </t>
                <CenteredIcon t-else="" icon="'fa-shopping-cart fa-4x'" text="'No orders found'"/>
            </div>
        </xpath>
    </t>
</templates>